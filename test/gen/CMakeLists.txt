add_executable(gen_test tester.c)

target_link_libraries(gen_test util)
target_link_libraries(gen_test lexer)
target_link_libraries(gen_test parser)
target_link_libraries(gen_test gen)

add_test(NAME gen_test_cfg_solo COMMAND gen_test cfg_solo)
add_test(NAME gen_cfg_test_example_01 COMMAND gen_test cfg_file ${CMAKE_SOURCE_DIR}/examples/01_helloworld.wl)
add_test(NAME gen_cfg_test_example_02 COMMAND gen_test cfg_file ${CMAKE_SOURCE_DIR}/examples/02_ftoc.wl)
add_test(NAME gen_cfg_test_example_03 COMMAND gen_test cfg_file ${CMAKE_SOURCE_DIR}/examples/03_repeat.wl)
add_test(NAME gen_cfg_test_example_04 COMMAND gen_test cfg_file ${CMAKE_SOURCE_DIR}/examples/04_char_count.wl)
add_test(NAME gen_cfg_test_example_05 COMMAND gen_test cfg_file ${CMAKE_SOURCE_DIR}/examples/05_pow.wl)
add_test(NAME gen_cfg_test_example_08 COMMAND gen_test cfg_file ${CMAKE_SOURCE_DIR}/examples/08_ranges.wl)
add_test(NAME gen_envman_test COMMAND gen_test envman)
